<?php
/**
 * Generated by Haxe 4.0.0 (git build development @ 3018ab1)
 */

use \php\_Boot\HxClosure;
use \php\_Boot\HxException;
use \php\Boot;
use \php\_Boot\HxString;
use \php\_Boot\HxClass;
use \php\_Boot\HxEnum;
use \php\_Boot\HxAnon;

/**
 * The Haxe Reflection API allows retrieval of type information at runtime.
 * This class complements the more lightweight Reflect class, with a focus on
 * class and enum instances.
 * @see https://haxe.org/manual/types.html
 * @see https://haxe.org/manual/std-reflection.html
 */
class Type {
	/**
	 * Creates an instance of class `cl`.
	 * This function guarantees that the class constructor is not called.
	 * If `cl` is null, the result is unspecified.
	 * 
	 * @param Class $cl
	 * 
	 * @return mixed
	 */
	static public function createEmptyInstance ($cl) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:115: characters 3-40
		if (Boot::getClass('String') === $cl) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:115: characters 26-40
			return "";
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:116: characters 3-39
		if (Boot::getClass(\Array_hx::class) === $cl) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:116: characters 25-39
			return new \Array_hx();
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:119: characters 3-52
		return (new \ReflectionClass($cl->phpClassName))->newInstanceWithoutConstructor();
	}


	/**
	 * Creates an instance of enum `e` by calling its constructor `constr` with
	 * arguments `params`.
	 * If `e` or `constr` is null, or if enum `e` has no constructor named
	 * `constr`, or if the number of elements in `params` does not match the
	 * expected number of constructor arguments, or if any argument has an
	 * invalid type, the result is unspecified.
	 * 
	 * @param Enum $e
	 * @param string $constr
	 * @param \Array_hx $params
	 * 
	 * @return mixed
	 */
	static public function createEnum ($e, $constr, $params = null) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:123: characters 3-47
		if (($e === null) || ($constr === null)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:123: characters 36-47
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:125: characters 3-43
		$phpName = $e->phpClassName;
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:127: characters 50-57
		$tmp = $phpName;
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:127: characters 59-71
		$tmp1 = "__hx__list";
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:127: lines 127-129
		if (!in_array($constr, $tmp::{$tmp1}())) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:128: characters 4-9
			throw new HxException("No such constructor " . ($constr??'null'));
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:131: characters 62-69
		$tmp2 = $phpName;
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:131: characters 71-90
		$tmp3 = "__hx__paramsCount";
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:131: characters 3-92
		$paramsCounts = $tmp2::{$tmp3}();
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:132: lines 132-134
		if ((($params === null) && ($paramsCounts[$constr] !== 0)) || (($params !== null) && ($params->length !== $paramsCounts[$constr]))) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:133: characters 4-9
			throw new HxException("Provided parameters count does not match expected parameters count");
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:136: lines 136-141
		if ($params === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:137: characters 29-36
			$tmp4 = $phpName;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:137: characters 38-44
			$tmp5 = $constr;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:137: characters 4-45
			return $tmp4::{$tmp5}();
		} else {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:140: characters 29-36
			$tmp6 = $phpName;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:140: characters 38-44
			$tmp7 = $constr;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:140: characters 4-71
			return $tmp6::{$tmp7}(...$params->arr);
		}
	}


	/**
	 * Returns the class of `o`, if `o` is a class instance.
	 * If `o` is null or of a different type, null is returned.
	 * In general, type parameter information cannot be obtained at runtime.
	 * 
	 * @param mixed $o
	 * 
	 * @return Class
	 */
	static public function getClass ($o) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:44: lines 44-51
		if (is_object($o) && !($o instanceof HxClass) && !($o instanceof HxEnum)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:45: characters 4-54
			$cls = Boot::getClass(get_class($o));
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:46: characters 11-54
			if ($cls === Boot::getClass(HxAnon::class)) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:46: characters 38-42
				return null;
			} else {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:46: characters 45-53
				return $cls;
			}
		} else if (is_string($o)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:48: characters 4-22
			return Boot::getClass('String');
		} else {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:50: characters 4-15
			return null;
		}
	}


	/**
	 * Returns the name of class `c`, including its path.
	 * If `c` is inside a package, the package structure is returned dot-
	 * separated, with another dot separating the class name:
	 * `pack1.pack2.(...).packN.ClassName`
	 * If `c` is a sub-type of a Haxe module, that module is not part of the
	 * package structure.
	 * If `c` has no package, the class name is returned.
	 * If `c` is null, the result is unspecified.
	 * The class name does not include any type parameters.
	 * 
	 * @param Class $c
	 * 
	 * @return string
	 */
	static public function getClassName ($c) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:67: characters 3-28
		if ($c === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:67: characters 17-28
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:68: characters 3-34
		return Boot::getHaxeName($c);
	}


	/**
	 * Returns a list of the names of all constructors of enum `e`.
	 * The order of the constructor names in the returned Array is preserved
	 * from the original syntax.
	 * If `e` is null, the result is unspecified.
	 * 
	 * @param Enum $e
	 * 
	 * @return \Array_hx
	 */
	static public function getEnumConstructs ($e) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:241: characters 3-29
		if ($e === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:241: characters 18-29
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:242: characters 3-60
		return \Array_hx::wrap($e->__hx__list());
	}


	/**
	 * Returns the name of enum `e`, including its path.
	 * If `e` is inside a package, the package structure is returned dot-
	 * separated, with another dot separating the enum name:
	 * `pack1.pack2.(...).packN.EnumName`
	 * If `e` is a sub-type of a Haxe module, that module is not part of the
	 * package structure.
	 * If `e` has no package, the enum name is returned.
	 * If `e` is null, the result is unspecified.
	 * The enum name does not include any type parameters.
	 * 
	 * @param Enum $e
	 * 
	 * @return string
	 */
	static public function getEnumName ($e) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:72: characters 3-30
		return Type::getClassName($e);
	}


	/**
	 * Returns a list of the instance fields of class `c`.
	 * This only includes fields which are known at compile-time. In
	 * particular, using getInstanceFields(getClass(obj)) will not include
	 * any fields which were added to obj at runtime.
	 * The order of the fields in the returned Array is unspecified.
	 * If `c` is null, the result is unspecified.
	 * (As3) This method only returns instance fields that are public.
	 * 
	 * @param Class $c
	 * 
	 * @return \Array_hx
	 */
	static public function getInstanceFields ($c) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:169: characters 3-29
		if ($c === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:169: characters 18-29
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:170: lines 170-176
		if ($c === Boot::getClass('String')) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:171: lines 171-175
			return \Array_hx::wrap([
				"substr",
				"charAt",
				"charCodeAt",
				"indexOf",
				"lastIndexOf",
				"split",
				"toLowerCase",
				"toUpperCase",
				"toString",
				"length",
			]);
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:178: characters 3-67
		$reflection = new \ReflectionClass($c->phpClassName);
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:180: characters 3-35
		$methods = [];
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:181: characters 13-36
		$_g_arr = $reflection->getMethods();
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:181: characters 13-36
		$_g_hasMore = reset($_g_arr) !== false;
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:181: lines 181-189
		while ($_g_hasMore) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:181: lines 181-189
			$result = current($_g_arr);
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:181: lines 181-189
			$_g_hasMore = next($_g_arr) !== false;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:181: lines 181-189
			$m = $result;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:183: lines 183-188
			if (!$m->isStatic()) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:184: characters 5-33
				$name = $m->getName();
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:185: lines 185-187
				if (!(($name === "__construct") || (HxString::indexOf($name, "__hx__") === 0))) {
					#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:186: characters 6-30
					array_push($methods, $name);
				}
			}
		}

		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:191: characters 3-38
		$properties = [];
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:192: characters 13-39
		$_g_arr1 = $reflection->getProperties();
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:192: characters 13-39
		$_g_hasMore1 = reset($_g_arr1) !== false;
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:192: lines 192-200
		while ($_g_hasMore1) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:192: lines 192-200
			$result1 = current($_g_arr1);
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:192: lines 192-200
			$_g_hasMore1 = next($_g_arr1) !== false;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:192: lines 192-200
			$p = $result1;
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:194: lines 194-199
			if (!$p->isStatic()) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:195: characters 5-35
				$name1 = $p->getName();
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:196: lines 196-198
				if (!(($name1 === "__construct") || (HxString::indexOf($name1, "__hx__") === 0))) {
					#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:197: characters 6-33
					array_push($properties, $name1);
				}
			}
		}

		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:201: characters 3-13
		$properties = array_diff($properties, $methods);
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:205: characters 3-44
		return \Array_hx::wrap(array_merge($properties, $methods));
	}


	/**
	 * Resolves a class by name.
	 * If `name` is the path of an existing class, that class is returned.
	 * Otherwise null is returned.
	 * If `name` is null or the path to a different type, the result is
	 * unspecified.
	 * The class name must not include any type parameters.
	 * 
	 * @param string $name
	 * 
	 * @return Class
	 */
	static public function resolveClass ($name) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:76: characters 3-32
		if ($name === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:76: characters 21-32
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:77: lines 77-85
		switch ($name) {
			case "Bool":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:81: characters 18-34
				return Boot::getClass('Bool');
				break;
			case "Class":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:83: characters 18-35
				return Boot::getClass('Class');
				break;
			case "Dynamic":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:78: characters 20-39
				return Boot::getClass('Dynamic');
				break;
			case "Enum":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:84: characters 17-33
				return Boot::getClass('Enum');
				break;
			case "Float":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:80: characters 18-35
				return Boot::getClass('Float');
				break;
			case "Int":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:79: characters 16-31
				return Boot::getClass('Int');
				break;
			case "String":
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:82: characters 19-32
				return Boot::getClass('String');
				break;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:87: characters 3-40
		$phpClass = Boot::getPhpName($name);
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:88: characters 3-88
		if (!class_exists($phpClass) && !interface_exists($phpClass)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:88: characters 77-88
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:92: characters 3-22
		return Boot::getClass($phpClass);
	}


	/**
	 * Resolves an enum by name.
	 * If `name` is the path of an existing enum, that enum is returned.
	 * Otherwise null is returned.
	 * If `name` is null the result is unspecified.
	 * If `name` is the path to a different type, null is returned.
	 * The enum name must not include any type parameters.
	 * 
	 * @param string $name
	 * 
	 * @return Enum
	 */
	static public function resolveEnum ($name) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:96: characters 3-32
		if ($name === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:96: characters 21-32
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:97: characters 3-39
		if ($name === "Bool") {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:97: characters 23-39
			return Boot::getClass('Bool');
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:99: characters 3-40
		$phpClass = Boot::getPhpName($name);
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:100: characters 3-50
		if (!class_exists($phpClass)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:100: characters 39-50
			return null;
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:104: characters 3-22
		return Boot::getClass($phpClass);
	}


	/**
	 * Returns the runtime type of value `v`.
	 * The result corresponds to the type `v` has at runtime, which may vary
	 * per platform. Assumptions regarding this should be minimized to avoid
	 * surprises.
	 * 
	 * @param mixed $v
	 * 
	 * @return \ValueType
	 */
	static public function typeof ($v) {
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:246: characters 3-30
		if ($v === null) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:246: characters 18-30
			return \ValueType::TNull();
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:248: lines 248-256
		if (is_object($v)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:249: characters 4-47
			if (($v instanceof \Closure) || ($v instanceof HxClosure)) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:249: characters 31-47
				return \ValueType::TFunction();
			}
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:250: characters 4-43
			if (($v instanceof \StdClass)) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:250: characters 29-43
				return \ValueType::TObject();
			}
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:251: characters 4-39
			if (($v instanceof HxClass)) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:251: characters 25-39
				return \ValueType::TObject();
			}
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:253: characters 4-53
			$hxClass = Boot::getClass(get_class($v));
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:254: characters 4-55
			if (($v instanceof HxEnum)) {
				#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:254: characters 29-55
				return \ValueType::TEnum($hxClass);
			}
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:255: characters 4-31
			return \ValueType::TClass($hxClass);
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:258: characters 3-32
		if (is_bool($v)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:258: characters 20-32
			return \ValueType::TBool();
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:259: characters 3-30
		if (is_int($v)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:259: characters 19-30
			return \ValueType::TInt();
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:260: characters 3-34
		if (is_float($v)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:260: characters 21-34
			return \ValueType::TFloat();
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:261: characters 3-43
		if (is_string($v)) {
			#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:261: characters 22-43
			return \ValueType::TClass(Boot::getClass('String'));
		}
		#/Users/ut/haxe/versions/4.0.0-preview.3/std/php/_std/Type.hx:263: characters 3-18
		return \ValueType::TUnknown();
	}
}


Boot::registerClass(Type::class, 'Type');
